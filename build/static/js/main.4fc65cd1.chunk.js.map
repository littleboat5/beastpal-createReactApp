{"version":3,"sources":["utils/requireAuth.js","redux/actions/actions.js","components/banner.js","components/beast_index.js","components/reviews.js","components/map.js","components/beast_view.js","components/beast_new.js","components/beast_edit.js","components/login.js","components/logout.js","components/header.js","components/landing.js","App.js","serviceWorker.js","redux/reducer.js","redux/reducers/reducer_beasts.js","redux/reducers/reducer_user.js","redux/store.js","index.js"],"names":["requireAuth","Compon","Authenticate","_Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","props","isAuth","context","router","history","push","react_default","a","createElement","Component","contextTypes","PropTypes","object","isRequired","connect","state","user","LOAD_BEASTS","VIEW_BEAST","EDIT_BEAST","DELETE_REVIEW","ADD_REVIEW","SET_USER","SET_BEASTOWNER","ROOT_URL","getBeast","beast_id","dispatch","axios","get","concat","then","res","bb","data","type","payload","catch","err","console","log","deleteBeast","callback","delete","getUser","user_id","beastOwner","owner","deleteReview","review_id","deletedReview","addReview","values","post","newReview","Banner","id","className","Link","to","BeastIndex","_this","call","renderBeast","bind","assertThisInitialized","renderImage","loadBeasts","bob","image","src","alt","_id","name","region","description","substring","length","onClick","document","getElementById","innerHTML","classList","add","remove","banner","beasts","map","bbs","Reviews","renderEditButtons","renderReview","renderSubmitButton","onSubmit","review","notifyParentOfDelete","author","updatedAt","text","_this2","disabled","formdata","notifyParentOfAdd","reviews","placeholder","GoogleMap","hidden","setTimeout","setState","wait","lat","lng","snapshot","google","maps","Map","refs","zoom","center","ref","BeastView","bb_owner","onDeleteReview","onAddReview","match","params","reviewFields","FormData","append","_this$props","beast","_this$props$beast","location","rent","aria-hidden","buy","email","onDeleteClick","components_reviews","keys","contactId","getOwner","bindActionCreators","BeastNew","imgSrc","$","prop","addBeast","fileUploader","click","file","files","reader","FileReader","onload","event","target","result","readAsDataURL","_this3","onClickCamera","onChange","previewImage","BeastEdit","renderCheckBox","getBeast4Update","updateBeast","checked","defaultChecked","defaultValue","put","Login","loginResponse","error","w3","postData","ig","provider","U3","provider_id","El","token","Zi","access_token","profile_pic","Paa","login","google_login","clientId","buttonText","icon","onSuccess","onFailure","user_data","localStorage","setItem","JSON","stringify","Logout","logout","removeItem","Header","data-toggle","data-target","aria-expanded","aria-controls","components_logout","components_login","height","width","Landing","App","header","Switch","Route","path","component","requireAuthentication","isLocalhost","Boolean","window","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","initialState","reducer_beasts","undefined","action","objectSpread","deletedId","newList","filter","rv","newList2","toConsumableArray","reducer_user","createBrowserHistory","store","createStore","combineReducers","connectRouter","BeastsReducer","UserReducer","compose","applyMiddleware","routerMiddleware","thunk","Auth","parse","ReactDOM","render","es","esm","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.4fc65cd1.chunk.js","sourcesContent":["import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nexport default function (Compon) {\n\n    class Authenticate extends Component {\n\n        componentWillMount() {\n            if (!this.props.isAuth) {\n                this.context.router.history.push('/beasts');\n            }\n        }\n\n        render() {\n          return( <Compon {...this.props} />);\n        }\n    } // end class Authenticate\n\n    Authenticate.contextTypes = {\n        router: PropTypes.object.isRequired\n    }\n\n    const mapStateToProps = state => {\n        return {\n            isAuth: state.user.isAuth\n        }\n    }\n\n    return connect(mapStateToProps)(Authenticate);\n}\n","import axios from 'axios'; // package that makes Ajax (asynchronous) requests from the browser\n\nexport const LOAD_BEASTS = 'LOAD_BEASTS';\nexport const VIEW_BEAST = 'VIEW_BEAST';\nexport const CREATE_BEAST = 'CREATE_BEAST';\nexport const EDIT_BEAST = 'EDIT_BEAST';\nexport const DELETE_REVIEW = 'DELETE_REVIEW';\nexport const ADD_REVIEW = 'ADD_REVIEW';\nexport const SET_USER = 'SET_USER';\nexport const SET_BEASTOWNER = 'SET_BEASTOWNER';\nexport const LOGOUT_USER = 'LOGOUT_USER';\n\n// const ROOT_URL = process.env.NODE_ENV === 'production' ? '/api/' : 'http://localhost:5000/api/';\nconst ROOT_URL = '/api/';\n\n/*=============== Load all beasts ================*/\nexport function loadBeasts () {\n    return (dispatch) => { axios\n        .get(`${ROOT_URL}beasts`)\n        .then( (res) => { //res now contains the response from the ajax request\n            let bbs = res.data;\n            dispatch({type:LOAD_BEASTS, payload:bbs});\n        })\n\n        .catch( (err) => console.log(err));\n    }\n}\n\n/*=============== get 1 beast ================*/\nexport function getBeast (beast_id) {\n    return (dispatch) => { axios\n        .get(`${ROOT_URL}beasts/${beast_id}`)\n        .then((res) => {\n            let bb = res.data;\n            dispatch({type: VIEW_BEAST, payload: bb});\n        })\n        .catch((err) => console.log(err));\n    }\n}\n/*=============== get beast for update ================*/\nexport function getBeast4Update (beast_id) {\n    return (dispatch) => { axios\n        .get(`${ROOT_URL}beasts/${beast_id}/edit`)\n        .then((res) => {\n            let bb = res.data;\n            dispatch({type: EDIT_BEAST, payload: bb});\n        })\n        .catch((err) => console.log(err));\n    }\n}\n\n/*=============== add new beast ================*/\nexport function addBeast (values, callback) {\n    return (dispatch) => { axios\n        .post(`${ROOT_URL}beasts`, values)\n        .then( ()=>callback() )\n        .catch((err) => console.log(err));\n    }\n}\n/*=============== update beast ================*/\nexport function updateBeast (beast_id, values, callback) {\n// console.log(values)\n    return (dispatch) => { axios\n        .put(`${ROOT_URL}beasts/${beast_id}`, values)\n        .then( ()=>callback() )\n        .catch((err) => console.log(err));\n    }\n}\n/*=============== delete 1 beast ================*/\nexport function deleteBeast (beast_id, callback) {\n    return (dispatch) => { axios\n        .delete(`${ROOT_URL}beasts/${beast_id}`)\n        .then( ()=>callback() )\n        .catch((err) => console.log(err));\n    }\n}\n/*=============== get a user ================*/\nexport function getUser (user_id, beastOwner) {\n    return (dispatch) => { axios\n        .get(`${ROOT_URL}user/${user_id}`)\n        .then((res)=>{\n          if (beastOwner){\n//if getting the beast owner user info, set the beastOwner state in reducer\n            dispatch({type: SET_BEASTOWNER, owner: res.data});\n          }\n          else\n            return res.data\n        }).catch(err=>console.log(err));\n  }\n}\n\n/*=============== Login user ================*/\nexport function login (user_data) {\n    return (dispatch) => {\n      axios.post(`${ROOT_URL}user`,user_data)\n           .then((res)=>{\n                let user = res.data;\n//                 console.log('==================signin=======')\n//                 console.log(user)\n//                 console.log('==================signin=======')\n /* Below, we save the user into localStorage so that the next time DOM is rendered,\nthe user is already authenticated and hence the BeastNew route is allowed.\nThe check for localStorage.Auth occurs in src/index.js, before the ReactDOM.render\n*/\n                localStorage.setItem('Auth', JSON.stringify(user));\n                dispatch({type: SET_USER, user});  //=== {type: 'SET_USER', user:user}\n            })\n           .catch((err)=>console.log(err));\n    }\n}\n\n/*=============== Logout user ================*/\nexport function logout() {\n    return (dispatch) => {\n      localStorage.removeItem(\"Auth\"); //remove from computer local memory\n      dispatch({type: SET_USER, user: {}} );\n    }\n}\n\n/*=============== delete 1 review ================*/\nexport function deleteReview(beast_id, review_id) {\n    return (dispatch) => { axios\n        .delete(`${ROOT_URL}beasts/${beast_id}/reviews/${review_id}`)\n        .then((res) => {\n            dispatch({type: DELETE_REVIEW, deletedReview: res.data});\n        })\n        .catch((err) => console.log(err));\n    }\n}\n/*=============== add 1 review ================*/\nexport function addReview(beast_id, values) {\n\n  return (dispatch) => { axios\n      .post(`${ROOT_URL}beasts/${beast_id}/reviews`, values)\n      .then((res) => {\n          dispatch({type: ADD_REVIEW, newReview: res.data});\n      })\n      .catch((err) => console.log(err));\n  }\n}\n","import React, {Component} from 'react';\nimport { Link } from 'react-router-dom'; // almost identical to <a> tag\nimport { connect } from 'react-redux'; //only need to pull out a property 'connect' from the react-redux package\n\nimport './../App.css';\n\n\nclass Banner extends Component {\n\n  render(){\n    return (\n      <div id=\"banner\"  className=\"jumbotron\">\n          <div className='container'>\n            <h1>A beast is your best pal in the wild</h1>\n            <h5>Find a beast to carry your burden in your next wild adventure!</h5>\n            <br/>\n            <Link to={\"beasts/new\"}>\n              <button className={this.props.isAuth ? \"btn btn-success\" : \"btn btn-success disabled\"} >\n                  Register Beast</button>\n            </Link>\n            <em className={!this.props.isAuth ? '' : 'hidden'}>login to register beast</em>\n          </div>\n      </div>\n\n    );\n  }\n}\n\n/*================= mapStateToProps =================*/\nfunction mapStateToProps( state){\n\n  return {\n           isAuth: state.user.isAuth\n         };\n}\n\nexport default connect(mapStateToProps)(Banner);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux'; //only need to pull out a property 'connect' from the react-redux package\nimport { Link } from 'react-router-dom'; // almost identical to <a> tag\n\nimport {loadBeasts} from './../redux/actions/actions';\nimport './../App.css';\nimport Banner from './banner';\n\n\nclass BeastIndex extends Component {\n  constructor(){\n      super();\n\n      this.renderBeast = this.renderBeast.bind(this);\n      this.renderImage = this.renderImage.bind(this);\n  }\n/*=============================================*/\n  componentDidMount(){\n    this.props.loadBeasts();\n  }\n\n/*=============================================*/\n  renderImage(bob){\n    if (bob.image)\n      return (\n        <img className=\"figure-img img-fluid img-thumbnail\" src={bob.image} alt=''/>\n      );\n    else\n      return (\n        <i className=\"far fa-image fa-5x\"></i>\n      );\n  }\n/*=============================================*/\n  renderBeast(bob){\n\n    function onClickMore(){\n      //show the full description\n      document.getElementById(`bob-description${bob._id}`).innerHTML = bob.description;\n      //hide the \"...+\" link\n      document.getElementById(`bob-more${bob._id}`).classList.add('hidden');\n      //show the \"-\" link\n      document.getElementById(`bob-less${bob._id}`).classList.remove('hidden');\n    }\n\n    function onClickLess(){\n      //show less description\n      document.getElementById(`bob-description${bob._id}`).innerHTML = bob.description.substring(0, 25);\n      //hide the \"-\" link\n      document.getElementById(`bob-less${bob._id}`).classList.add('hidden');\n      //show the \"...+\" link\n      document.getElementById(`bob-more${bob._id}`).classList.remove('hidden');\n    }\n\n    return (\n      <div className=\"col-xs-6 col-sm-4 col-lg-3\" key={bob._id}>\n        <figure className=\"figure\">\n          <Link to={`beasts/${bob._id}`}>{this.renderImage(bob)}</Link>\n          <figcaption className=\"figure-caption\">\n            <strong>{bob.name}</strong>, a {bob.type} from {bob.region}\n            <br/>\n            <span id={`bob-description${bob._id}`}>\n              {bob.description ? bob.description.substring(0, 25) : \"\"}\n            </span>\n    {/* ...+ OR - */}\n            <button id={`bob-more${bob._id}`}\n                  className={(bob.description && bob.description.length>25)\n                           ? \"text-info \" : \"text-info hidden\" }\n                  onClick={onClickMore.bind(this)} >\n                <i className=\"fas fa-ellipsis-h\"></i>\n            </button>\n            <button id={`bob-less${bob._id}`}\n                  className=\"text-info hidden\"\n                  onClick={onClickLess.bind(this)} >\n                <i className=\"far fa-minus-square\"></i>\n            </button>\n\n          </figcaption>\n        </figure>\n      </div>\n    );\n  } // end renderBeast\n\n/*=============================================*/\n\n  render(){\n    return (\n      <div>\n        <Banner />\n        <div className='container'>\n          <div className=\"row\" > {/* call renderBeast() for each beast*/}\n            {this.props.beasts.map( this.renderBeast )}\n          </div>\n        </div>\n      </div>\n    );\n  } // end render()\n\n}\n\n/*================= mapStateToProps =================*/\nfunction mapStateToProps( state){\n\n  return { beasts: state.beasts.beasts,\n           user: state.user.user\n         };\n}\n\nexport default connect(mapStateToProps, {loadBeasts})(BeastIndex);\n","import React, { Component } from 'react';\nimport './../App.css';\n\n\nclass Reviews extends Component {\n  constructor(){\n      super();\n\n      this.renderEditButtons = this.renderEditButtons.bind(this);\n      this.renderReview = this.renderReview.bind(this);\n      this.renderSubmitButton = this.renderSubmitButton.bind(this);\n      this.onSubmit = this.onSubmit.bind(this);\n  }\n\n/* ================================================*/\n  renderEditButtons(review){\n\n    function onDeleteClick(){\n      this.props.notifyParentOfDelete(review._id);\n    }\n\n    return(\n      <div className=\"d-inline\">\n        <button id='review-del' className='text-danger bg-light' onClick={onDeleteClick.bind(this)} >\n            <i className=\"fas fa-trash-alt \"></i>\n        </button>\n      </div>\n    );\n  }\n\n/* ================================================*/\n  renderReview(review){\n\n    return (\n      <div key={review._id}>\n        <p className=\"card-title\">\n            <em>Review by <strong>{review.author.name} </strong>\n            <span className=\"float-right\"><small className=\"text-muted\">{review.updatedAt.substring(0,19)}</small></span></em>\n        </p>\n\n        <div className=\"card-text\">\n          {review.text}\n          {review.author.id === this.props.user_id ? this.renderEditButtons(review) : \"\" }\n        </div>\n        <hr/>\n\n      </div>\n    );\n  }\n/* ================================================*/\n  renderSubmitButton(){\n    if (this.props.user_id ) //user is login\n      return(\n        <div>\n          <button onClick={()=>this.onSubmit()} className='btn btn-success'>Submit</button>\n        </div>\n      );\n    else\n      return(\n        <div>\n          <button onClick={()=>this.onSubmit()} className='btn btn-success' disabled>Submit</button>\n          <em>login to submit review</em>\n        </div>\n      );\n}\n/* ================================================*/\n  onSubmit(){\n    let formdata = {\n      'text': document.getElementById('text').value\n    }\n    this.props.notifyParentOfAdd(formdata);\n\n    document.getElementById('text').value = \"\";\n  }\n\n/* ================================================*/\n  render(){\n\n    const {reviews} = this.props;\n\n    return(\n      <div id=\"reviewSection\" className=\"card bg-light mb-3\">\n{/*--- New review editor ----*/}\n        <div className=\"card-body\" id=\"review_new\">\n          <form>\n            <div className=\"form-group\">\n              <textarea className=\"form-control\" id='text' placeholder=\"Write a new review...\"></textarea>\n            </div>\n          </form>\n          {this.renderSubmitButton()}\n        </div>\n\n        <div className=\"card-body\">\n          {reviews.map( this.renderReview )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Reviews;\n","/*global google*/\n\n/* without the above line, component will NOT render with error: \"google not\ndefined no-def\" error!!\n*/\n\nimport React, {Component} from 'react';\n\nclass GoogleMap extends Component {\n  constructor(){\n    super();\n    this.state = {\n      hidden: \"hidden\"\n    }\n  }\n/* ================================================*/\n  componentDidMount(){\n/* the map API takes time to run, need to wait couple seconds before showing the map,\notherwise it may show the previous map\n*/\n    setTimeout( ()=> { this.setState({hidden : \"\"}); }, this.props.wait);\n  }\n/* ================================================*/\n  shouldComponentUpdate(props, state){\n/* this funciton works with componentDidUpdate. Props here are next props values.\nIf they are undefined, return false, which will forbid componentDidUpdate to run\n*/\n// console.log('should'+props.location+\",\"+props.lat+\",\"+props.lng)\n    if ( props.lat && props.lng)\n      return true;\n    else\n      return false;\n  }\n/* ================================================*/\n  componentDidUpdate(props, state, snapshot){\n// console.log('componentDidUpdate'+props.location+\",\"+props.lat+\",\"+props.lng)\n\n/* in componentDidUpdate props holds previous props values so the coord may belongs\nto the previous beast. If the google map API is called with the prev coord,\nit may cause this error: Cannot read property 'firstChild' of undefined.\nSolution: check for the \"next\" props values in shouldComponentUpdate\n*/\n    if( props.lat && props.lng) {\n      new google.maps.Map (\n        this.refs.map, // tell google map where to place the map\n        { zoom:8,\n          center:{lat:props.lat, lng:props.lng}\n        }\n      );\n    };\n  }\n/* ================================================*/\n  render(){\n    if( this.props.lat && this.props.lng) {\n\n      return <div id='googlemap' ref='map' className={this.state.hidden}/>;\n    // use \"ref\" so other places can reference to this div tag by\n    // this.refs.map\n    }\n    else {\n      return <div className='text-danger'>Not able to render map with the given location</div>\n    }\n  }\n}\n\nexport default GoogleMap;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport { Link } from 'react-router-dom';\n\nimport {getBeast, deleteBeast, getUser, deleteReview, addReview} from './../redux/actions/actions';\nimport './../App.css';\nimport Reviews from './reviews';\nimport GoogleMap from './map';\n\nclass BeastView extends Component {\n  constructor(){\n      super();\n      this.state = {\n/* this.props.owner may not always point to the same user as this.props.beast.contactId\nbecause this.props.owner is fetched by a different API and that API can only be\ncalled AFTER the getBeast API returns and beast is rendered.\nHence, we use the local state to sync up with this.props.owner, then in\ngetDerivedStateFromProps, we can compare this with this.props.beast.contactId\nto see if we need to get the user info again\n*/\n        bb_owner: {}\n      }\n      this.onDeleteReview = this.onDeleteReview.bind(this);\n      this.onAddReview = this.onAddReview.bind(this);\n  }\n/* ================================================*/\n  componentDidMount(){\n    const {id} = this.props.match.params; //id = this.props.match.params.id\n\n    this.props.getBeast(id);\n  }\n\n  /* ================================================*/\n  static getDerivedStateFromProps(props, state){\n    if( Object.keys(props.beast).length !== 0 )//if beast info is loaded\n      if (   Object.keys(state.bb_owner).length===0  //AND beast owner info is not yet retrieved\n          || props.beast.contactId !== state.bb_owner._id //OR another beast is selected, curr owner info is old\n        ){\n          props.getOwner(props.beast.contactId, true);//get user info from API\n      }\n/*update the local state with whatever is current in props.owner, which may not be\nthe same owner the above props.getOwner action is getting. This is due to Ajax\nnatural of these API calls. Hence, getOwner may be called couple more times\nbefore it finally sync up and the calls will stop\n*/\n    return {\n      bb_owner: props.owner\n    } //upon return, this.state.bb_owner will be === this.props.owner\n  }\n/* ================================================*/\n  onDeleteClick(){\n    const {id} = this.props.match.params;\n    this.props.deleteBeast(id, ()=>{\n       this.props.history.push('/beasts');\n   });\n  }\n/* ================================================*/\n  onDeleteReview(review_id) {\n    const {id} = this.props.match.params;\n    this.props.deleteReview(id, review_id);\n  }\n/* ================================================*/\n  onAddReview(reviewFields) {\n    const {id} = this.props.match.params;\n\n    let formdata = new FormData();\n\n    formdata.append('text', reviewFields.text);\n    formdata.append('authorId', this.props.user._id);\n\n    this.props.addReview(id, formdata);\n  }\n/* ================================================*/\n  render(){\n    const {beast, owner, user} = this.props;\n\n    if (!beast && !owner) { //handle the FIRST render before the componentDidMount is called\n      return <div>loading...</div>;\n    }\n\n    let {lng, lat, location} = this.props.beast;\n\n    return (\n      <div className=\"container\">\n        <div className=\"beast-detail row\">\n\n{/*  <!-- SIDE BAR - occupies 3/12 of the width*/}\n          <div className=\"col-md-3\">\n{/*<!-- MAP */}\n           <p>Serving Location: {beast.location}</p>\n            <GoogleMap lng={lng} lat={lat} location={location} wait={2000}/>\n          </div>\n\n{/* <!-- MAIN AREA - occupies 9/12 of the width*/}\n          <div className=\"col-md-9\">\n              <div className=\"card border-0\" >\n                  <img className={beast.image ? \"card-img-top\" : \"card-img-top hidden\"}\n                        src={beast.image} alt=''/>\n                  <div className=\"card-body\">\n\n                    <h6 className=\"float-right\">\n                      <span className=\"rentbuy\">Hire{'\\u00A0'}\n                      {beast.rent ? <i className=\"fa fa-check fa-sm\" aria-hidden=\"true\"></i> :\n                                    <i className=\"fa fa-times fa-sm\" aria-hidden=\"true\"></i>\n                      }</span>\n                      <span className=\"rentbuy\">Buy{'\\u00A0'}\n                      { beast.buy ? <i className=\"fa fa-check fa-sm\" aria-hidden=\"true\"></i> :\n                                    <i className=\"fa fa-times fa-sm\" aria-hidden=\"true\"></i>\n                      }</span>\n                    </h6>\n\n                    <h5 className=\"card-title\">{ beast.name}, a { beast.type} that serves the { beast.region} region</h5>\n                    <p><em>Contact person: {owner.name}&nbsp;<small>{owner.email}</small></em></p>\n\n                    <br/>\n                    <p className=\"card-text\">{beast.description}</p>\n                  </div>\n\n  {/*<!-- EDIT/DELETE BEAST BUTTONS */}\n                  <div className={user._id === owner._id ? \"card-body\" : \"card-body hidden\"}>\n                    <Link className=\"btn btn-warning beastview-button\" to={`/beasts/${beast._id}/edit`}>Edit Beast Details</Link>\n                    <button className='btn btn-outline-danger beastview-button' onClick={this.onDeleteClick.bind(this)} >\n                      Remove Beast\n                    </button>\n                  </div>\n              </div>\n\n              <div className=\"card mb-3 border-0 \">\n                  <Link className=\"go-back\" to=\"/beasts\"><i className=\"fas fa-arrow-alt-circle-left fa-lg\"></i></Link>\n              </div>\n\n{/* ------ REVIEWS SECTION ------*/}\n              <Reviews reviews={this.props.reviews}\n                       beast_id={beast._id}\n                       user_id={this.props.user._id}\n                       notifyParentOfDelete={this.onDeleteReview}\n                       notifyParentOfAdd={this.onAddReview} />\n\n          </div>\n        </div>\n      </div>\n    ); // end return\n  }// end render\n\n}//end BeastView\n\n/*================= mapStateToProps =================*/\nfunction mapStateToProps( state){\n\n  return {beast: state.beasts.beast, // current beast in view\n          user: state.user.user,\n          owner: state.user.beastOwner,\n          reviews: state.beasts.reviews // reviews for the current beast\n         };\n/*\nThe statement above basically maps the \"state\" in reducer_beasts.js to\nthis.props.beast in this container.\n*/\n}\n\n/*================= mapDispatchToProps =================*/\n// make getBeast, deleteBeast available as this.props.getBeast/deletebeast etc\n\nfunction mapDispatchToProps(dispatch){\n  return bindActionCreators(\n    { getBeast: getBeast,\n      deleteBeast: deleteBeast,\n      deleteReview: deleteReview,\n      addReview: addReview,\n      getOwner: getUser\n    },\n//the 2nd getBeast refers to the imported function from action creator\n    dispatch\n  );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BeastView);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom'; // almost identical to <a> tag\nimport $ from 'jquery';\n\nimport {addBeast} from './../redux/actions/actions';\nimport './../App.css';\n\nclass BeastNew extends Component {\n  constructor(){\n      super();\n      this.state = {\n        imgSrc: null\n      }\n      this.onSubmit = this.onSubmit.bind(this);\n  }\n\n/**********************************************/\n  onSubmit(){\n    const values = {\n      region: document.getElementById('region').value,\n      type: document.getElementById('type').value,\n      name: document.getElementById('name').value,\n      location: document.getElementById('location').value,\n      image: this.state.imgSrc,\n      buy: $('#buy').prop('checked'),\n      rent: $('#rent').prop('checked'),\n      description: document.getElementById('description').value,\n      contactId: this.props.user.user._id\n    }\n// console.log(\"buy\"+values.buy+\" rent\"+values.rent)\n    let formdata = new FormData();\n    formdata.append('image', values.image);\n    formdata.append('region', values.region);\n    formdata.append('type', values.type);\n    formdata.append('name', values.name);\n    formdata.append('location', values.location);\n    formdata.append('buy', values.buy);\n    formdata.append('rent', values.rent);\n    formdata.append('description', values.description);\n    formdata.append('contactId', values.contactId);\n\n    this.props.addBeast(\n      formdata,\n      ()=>{\n        this.props.history.push('/beasts');\n        // this.context.router.history.push('/beasts') ;\n      } //must match the path in 1 of the <Route> tag\n    );\n  }\n\n/**********************************************/\n  onClickCamera(){\n      this.refs.fileUploader.click(); //click on the hidden <input type=\"file\"...>\n  }\n/**********************************************/\n  previewImage () {\n      const file = this.refs.fileUploader.files[0];\n      if (!file) return;\n\n      // let imgurl = URL.createObjectURL(file);\n\n      var reader = new FileReader();\n      reader.onload = function (event) {\n        document.getElementById('image_preview').src = event.target.result\n\n        this.setState({\n          imgSrc: file\n        })\n      }.bind(this)\n\n      reader.readAsDataURL(file);\n  }\n\n/**********************************************/\n  render(){\n\n    return (\n      <div className='container'>\n      <div id='beast-new-div'>\n\n      <form>\n\n{/*===== Image related rendering ===========*/}\n          <div className={this.state.imgSrc != null ? 'file-upload-previewer' : 'file-upload-previewer hidden'}>\n            <img className=\"card-img-top\" src=\"\" alt=\"\" id=\"image_preview\"/>\n          </div>\n\n          <div className=\"form-group\">\n            <span className=\"picture_upload\">\n              <i className=\"fa fa-camera\" onClick={this.onClickCamera.bind(this)}></i>\n            </span>\n          </div>\n\n           <div className=\"hidden\">\n              <input name=\"image\" type=\"file\" onChange={this.previewImage.bind(this)} ref=\"fileUploader\" />\n           </div>\n\n{/*===== End Image related rendering ===========*/}\n\n    {/*<!-- Name of Beast -->*/}\n          <div className=\"form-group\">\n            <input type=\"text\" className=\" form-control\" id='name' placeholder=\"Name of the beast\"/>\n          </div>\n    {/*<!-- Type of Beast -->*/}\n          <div className=\"form-group\">\n            <select className=\" form-control\" id='type'>\n              <option>yak</option><option>camel</option><option>mule</option><option>stallion</option><option>llama</option>\n            </select>\n          </div>\n    {/*<!-- Region -->*/}\n          <div className=\" form-group\">\n            <select className=\" form-control\" id='region'>\n              <option>Tibet</option><option>Pamir</option><option>Mongolia</option><option>Taklamakan</option><option>Sahara</option><option>Andes</option>\n            </select>\n          </div>\n    {/*<!-- Location of Beast -->*/}\n          <div className=\"form-group\">\n            <input type=\"text\" className=\" form-control\" id='location' placeholder=\"Location/serving area of the beast\"/>\n          </div>\n    {/*<!-- available for rent/buy -->*/}\n          <div className=\"form-group\">\n            <input className=\" form-check-input\" type=\"checkbox\" id='rent'/>\n            <label className=\" form-check-label\" >Available for hire</label>\n          </div>\n          <div className=\"form-group\">\n            <input className=\" form-check-input\" type=\"checkbox\" id='buy'/>\n            <label className=\" form-check-label\" >Available for purchase</label>\n          </div>\n    {/*<!-- Description -->*/}\n          <div className=\"form-group\">\n            <textarea className=\" form-control\" id='description' placeholder=\"Description\"></textarea>\n          </div>\n\n        </form>\n        <button onClick={()=>this.onSubmit()} className='btn btn-success'>Submit</button>\n        <Link className='go-back' to='/beasts'>Cancel</Link>\n        </div>\n        </div>\n      ); //end return\n  } // end render\n\n} // end class BeastNew\n\n/*================= mapStateToProps =================*/\nfunction mapStateToProps( state){\n\n  return { user: state.user };\n/* 'state' refers to the application state defined in reducer.js\nstate.user here refers to the \"user\" property in combineReducers.\nThe statement above basically maps the \"state\" in reducer_user.js to\nthis.props.user in this container.\n*/\n}\n/*====================================================*/\nexport default connect(mapStateToProps, {addBeast}) (BeastNew);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux'; //only need to pull out a property 'connect' from the react-redux package\nimport { Link } from 'react-router-dom'; // almost identical to <a> tag\nimport $ from 'jquery';\n\nimport {getBeast4Update, updateBeast} from './../redux/actions/actions';\nimport './../App.css';\n\nclass BeastEdit extends Component {\n  constructor(){\n      super();\n      this.state = {\n        imgSrc: null\n      }\n      this.onSubmit = this.onSubmit.bind(this);\n      this.renderCheckBox = this.renderCheckBox.bind(this);\n  }\n/* ================================================*/\n  componentDidMount(){\n    const {id} = this.props.match.params;\n    this.props.getBeast4Update(id);\n  }\n\n\n/**********************************************/\n  onSubmit(){\n    const values = {\n      region: document.getElementById('region').value,\n      type: document.getElementById('type').value,\n      name: document.getElementById('name').value,\n      location: document.getElementById('location').value,\n      buy: $('#buy').prop('checked'),\n      rent: $('#rent').prop('checked'),\n      description: document.getElementById('description').value,\n      contactId: this.props.beast.contactId\n    }\n\n    let formdata = new FormData();\n\n    if(this.state.imgSrc)\n      formdata.append('image', this.state.imgSrc);\n\n    formdata.append('region', values.region);\n    formdata.append('type', values.type);\n    formdata.append('name', values.name);\n    formdata.append('location', values.location);\n    formdata.append('buy', values.buy);\n    formdata.append('rent', values.rent);\n    formdata.append('description', values.description);\n    formdata.append('contactId', values.contactId);\n\n    this.props.updateBeast(\n      this.props.beast._id,\n      formdata,\n      ()=>{\n        this.props.history.push(`/beasts/${this.props.beast._id}`);\n      }\n    );\n  }\n\n/**********************************************/\n  onClickCamera(){\n      this.refs.fileUploader.click(); //click on the hidden <input type=\"file\"...>\n  }\n/**********************************************/\n  previewImage () {\n      const file = this.refs.fileUploader.files[0];\n      if (!file) return;\n\n      // let imgurl = URL.createObjectURL(file);\n      var reader = new FileReader();\n      reader.onload = function (event) {\n        document.getElementById('image_preview').src = event.target.result\n\n        this.setState({\n          imgSrc: file\n        })\n      }.bind(this)\n\n      reader.readAsDataURL(file);\n  }\n/**********************************************/\n  renderCheckBox(id, checked){\n    if( checked )\n      return(\n        <input className=\" form-check-input\" type=\"checkbox\" id={id} defaultChecked/>\n      );\n    else\n      return(\n        <input className=\" form-check-input\" type=\"checkbox\" id={id}/>\n      );\n  }\n/**********************************************/\n  render(){\n   const {beast} = this.props;\n\n    return (\n      <div className='container'>\n      <div id='beast-new-div'>\n\n      <form>\n\n{/*===== Image related rendering ===========*/}\n        <div className={ beast.image != null || this.state.imgSrc != null\n              ? 'file-upload-previewer' : 'file-upload-previewer hidden'}>\n          <img className=\"card-img-top\" src={beast.image} alt=\"\" id=\"image_preview\"/>\n        </div>\n\n        <div className=\"form-group\">\n          <span className=\"picture_upload\">\n            <i className=\"fa fa-camera\" onClick={this.onClickCamera.bind(this)}></i>\n          </span>\n        </div>\n\n         <div className=\"hidden\">\n            <input name=\"image\" type=\"file\" onChange={this.previewImage.bind(this)} ref=\"fileUploader\" />\n         </div>\n{/*===== End Image related rendering ===========*/}\n\n  {/*<!-- Name of Beast -->*/}\n        <div className=\"form-group\">\n          <input type=\"text\" className=\"form-control\" id='name' defaultValue={beast.name}/>\n        </div>\n  {/*<!-- Type of Beast -->*/}\n        <div className=\"form-group\">\n          <select className=\" form-control\" id='type' defaultValue={beast.type}>\n            <option>yak</option><option>camel</option><option>mule</option><option>stallion</option><option>llama</option>\n          </select>\n        </div>\n  {/*<!-- Region -->*/}\n        <div className=\" form-group\">\n          <select className=\" form-control\" id='region' defaultValue={beast.region}>\n            <option>Tibet</option><option>Pamir</option><option>Mongolia</option><option>Taklamakan</option><option>Sahara</option><option>Andes</option>\n          </select>\n        </div>\n  {/*<!-- Location of Beast -->*/}\n        <div className=\"form-group\">\n          <input type=\"text\" className=\" form-control\" id='location' defaultValue={beast.location} placeholder=\"Location/serving area of the beast\"/>\n        </div>\n  {/*<!-- available for rent/buy -->*/}\n        <div className=\"form-group\">\n          {this.renderCheckBox('rent', beast.rent)}\n          <label className=\" form-check-label\" >Available for hire</label>\n        </div>\n        <div className=\"form-group\">\n          {this.renderCheckBox('buy', beast.buy)}\n          <label className=\" form-check-label\" >Available for purchase</label>\n        </div>\n  {/*<!-- Description -->*/}\n        <div className=\"form-group\">\n          <textarea className=\" form-control\" id='description' defaultValue={beast.description}></textarea>\n        </div>\n\n      </form>\n\n      <button onClick={()=>this.onSubmit()} className='btn btn-success'>Update</button>\n      <Link className='go-back' to={`/beasts/${beast._id}`}>Cancel</Link>\n\n      </div>\n      </div>\n      ); //end return\n  } // end render\n\n} // end class BeastEdit\n\n/*================= mapStateToProps =================*/\nfunction mapStateToProps(state){\n\n  return { beast: state.beasts.beast,\n           user: state.user\n         };\n}\n/*====================================================*/\nexport default connect(mapStateToProps, {getBeast4Update, updateBeast}) (BeastEdit);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {GoogleLogin} from 'react-google-login';\n\nimport { login } from './../redux/actions/actions';\n\nclass Login extends Component {\n\n  render(){\n/*======================================================*/\n    const loginResponse = (res) => {\n        if (res.error ){\n            console.log(\"Login fail: \"+res.error);\n            console.log(res.w3)\n            return;\n        }\n\n        let postData = {\n            name: res.w3.ig,\n            provider: 'google',\n            email: res.w3.U3,\n            provider_id: res.El,\n            token: res.Zi.access_token,\n            profile_pic: res.w3.Paa\n        }\n\n        this.props.login(postData); //add or retrieve user from our own DB\n    } //end loginResponse\n\n/*======================================================*/\n    return (\n      <div>\n        <GoogleLogin className=\"beast-login\"\n                      clientId=\"57563421826-mk7jbki80g8e05ksjo5gjm1hrfltl7ui.apps.googleusercontent.com\"\n                      buttonText=\"Login\"\n                      icon={false}\n                      onSuccess={loginResponse}\n                      onFailure={loginResponse} />\n      </div>\n\n    );\n  }\n}\n\n/*========================================================*/\n\nexport default connect(null, {login})(Login);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport './../App.css';\nimport { logout } from './../redux/actions/actions';\n\nclass Logout extends Component {\n\n\n  render(){\n    function onClickLogout(){\n        this.props.logout();\n     }\n\n    return (\n      <div>\n        <button className=\"nav-item nav-link beast-login\" onClick={onClickLogout.bind(this)}>Logout</button>\n      </div>\n    );\n  }\n\n}\n\n/*================= mapStateToProps =================*/\nfunction mapStateToProps( state){\n  return { user: state.user };\n}\n\nexport default connect(mapStateToProps, {logout})(Logout);\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Login from './login';\nimport Logout from './logout';\n\nclass Header extends Component {\n\n  render() {\n\n    function renderProfile(user) {\n      return (\n        <div className='user-profile'>\n          <img className=\"avatar-image\" height=\"40\" width=\"40\" src={user.profile_pic} alt={user.name}/>\n          <div className='user-profile-name'>\n            <div>\n              <small>{user.name}</small>\n            </div>\n            <small>{user.email}</small>\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div id=\"header-nav-bar\">\n        <nav className=\"navbar navbar-expand-lg navbar-dark\" >\n    {/*Yak icon*/}\n          <Link className=\"navbar-brand\" to=\"/\">\n            <img className=\"icon-brand\" src=\"/favicon.ico\" alt=\"beastpal\"/>\n          </Link>\n          <button type=\"button\" className=\"navbar-toggler\" data-toggle=\"collapse\" data-target=\"#navbar\" aria-expanded=\"false\" aria-controls=\"navbar\">\n              <span className=\"navbar-toggler-icon\"></span>\n          </button>\n\n          <div id=\"navbar\" className=\"collapse navbar-collapse\">\n              <ul className=\"nav navbar-nav navbar-right\">\n      {/*View all beasts*/}\n                <li className=\"nav-item\">\n                  <Link className=\"nav-item nav-link \" to=\"/beasts\">View Beasts</Link>\n                </li>\n      {/*Add new beast*/}\n                <li className=\"nav-item\">\n                  <Link className={this.props.user.isAuth ? \"nav-link\":\"nav-link disabled\"}\n                    to={this.props.user.isAuth ? \"/beasts/new\":\"#\"}>Register Beast</Link>\n                </li>\n      {/*Login/Logout*/}\n                <li className=\"nav-item\">\n                  {this.props.user.isAuth ? <Logout /> : <Login />}\n                </li>\n      {/*User info*/}\n                <li  className=\"nav-item\" >\n                  {this.props.user.isAuth ? renderProfile(this.props.user.user) : \"\"}\n                </li>\n              </ul>\n          </div>\n        </nav>\n      </div>\n    ); //end return\n  }// end render\n\n}\n\n/*================= mapStateToProps =================*/\nfunction mapStateToProps( state){\n  return { user: state.user };\n}\n\nexport default connect(mapStateToProps)(Header);\n","import React, {Component} from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './../landing.css';\n\n\nclass Landing extends Component {\n\n  render(){\n    return (\n      <div>\n        <div id=\"landing-header\">\n         \t\t<h1>Welcome to Beastpal!</h1>\n            <Link className=\"btn btn-lg btn-success\" to=\"/beasts\">View All Beast of Burden</Link>\n        </div>\n\n        <ul className=\"slideshow\">\n          <li></li>\n          <li></li>\n          <li></li>\n          <li></li>\n          <li></li>\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default Landing;\n","import React, { Component } from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport requireAuthentication from './utils/requireAuth'\nimport './App.css';\n\nimport BeastIndex from './components/beast_index';\nimport BeastView from './components/beast_view';\nimport BeastNew from './components/beast_new';\nimport BeastEdit from './components/beast_edit';\nimport Header from './components/header';\nimport Landing from './components/landing';\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <Header />\n        <div>\n          <Switch>\n              <Route path=\"/beasts/new\" component={requireAuthentication(BeastNew)} />\n              <Route path=\"/beasts/:id/edit\" component={BeastEdit} />\n              <Route path=\"/beasts/:id\" component={BeastView} />\n              <Route path=\"/beasts\" component={BeastIndex} />\n              <Route path=\"/\" component={Landing} />\n          </Switch>\n        </div>\n      </div>\n\n    );\n  }\n}\n\nexport default App;\n","const isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from 'redux';\nimport BeastsReducer from './reducers/reducer_beasts';\nimport UserReducer from './reducers/reducer_user';\nimport { connectRouter } from 'connected-react-router';\n\n// deprecated!! import { routerReducer } from 'react-router-redux';\n\n// how to use redux-form: https://redux-form.com/8.0.4/docs/gettingstarted.md/\n// import { reducer as formReducer } from 'redux-form';\n\nexport default (history) => combineReducers({\n    router: connectRouter(history),\n    beasts : BeastsReducer,\n    user: UserReducer\n});\n\n// export default combineReducers({\n//   beasts : BeastsReducer,\n//   user: UserReducer,\n// //  form: formReducer, // must use keyword \"form\"\n//   router: routerReducer\n// });\n","import { LOAD_BEASTS, VIEW_BEAST, EDIT_BEAST, DELETE_REVIEW, ADD_REVIEW }\n    from '../actions/actions';\n\nconst initialState = {\n    beasts: [],\n    beast: {},\n    reviews:[]\n}\n\n// export default function (state = initialState, action) {\nexport default (state=initialState, action) => {\n\n  switch (action.type) {\n    case LOAD_BEASTS :\n      return {\n          ...state,\n          beasts: action.payload\n      };\n\n    case VIEW_BEAST:\n      return {\n          ...state,\n          beast: action.payload,\n          reviews: action.payload.reviews\n      }\n\n    case EDIT_BEAST:\n      return {\n          ...state,\n          beast: action.payload\n      }\n\n    case DELETE_REVIEW:\n        const deletedId = action.deletedReview._id;\n        const newList =\n            state.reviews.filter( //filter OUT the deleted review\n                rv => rv._id !== deletedId );\n\n        return {\n          ...state,\n          reviews: newList\n        };\n\n    case ADD_REVIEW:\n      const newList2 = [action.newReview, ...state.reviews]\n      return {\n        ...state,\n        reviews: newList2\n      };\n\n    default:\n        return state;\n  }\n}\n","import { SET_USER, SET_BEASTOWNER } from '../actions/actions';\n\nconst initialState = {\n    user: {},\n    isAuth: false,\n    beastOwner:{}\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER:\n        return {\n            ...state,\n            isAuth: Object.keys(action.user).length > 0 ? true : false,\n            user: action.user\n        }\n\n    case SET_BEASTOWNER:\n        return {\n            ...state,\n            beastOwner: action.owner\n        }\n    default:\n      return state;\n  }\n}\n","import { applyMiddleware, compose, createStore } from 'redux';\nimport { routerMiddleware } from 'connected-react-router'\nimport { createBrowserHistory } from 'history'\nimport createRootReducer from './reducer';\n\n//import { createLogger } from 'redux-logger'\n// import { composeWithDevTools } from 'redux-devtools-extension/developmentOnly';\n// import reducer from './reducer';\nimport thunk from 'redux-thunk'\n\nexport const history = createBrowserHistory();\n\nexport const store = createStore(\n    createRootReducer(history), // root reducer with router state\n    {},\n    compose(\n      applyMiddleware(\n        routerMiddleware(history), // for dispatching history actions\n        thunk\n      ),\n    ),\n  );\n\n\n\n// the following exports concerning history are deprecated!!!\n// import createHistory from 'history/createBrowserHistory';\n// export const history = createHistory();\n//\n// // Build the middleware for intercepting and dispatching navigation actions\n// //const myRouterMiddleware = routerMiddleware(history);\n//\n// const createStoreWithMiddleware = applyMiddleware(thunk)(createStore);\n// export const store = createStoreWithMiddleware(reducer);\n\n// export const store = createStore(\n//   reducer,\n//   composeWithDevTools(applyMiddleware(thunk))\n// );\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { Route, Switch} from 'react-router-dom';\nimport { ConnectedRouter } from 'connected-react-router'\n// deprecated!! import { ConnectedRouter } from 'react-router-redux';\n\nimport './index.css';\nimport App from './App';\nimport { register } from './serviceWorker';\n\nimport {store, history} from \"./redux/store\";\nimport { SET_USER } from './redux/actions/actions';\n\n/*===========================================================*/\n/* localStorage.Auth is set in the login action */\nif( localStorage.Auth ) {\n    const user = JSON.parse(localStorage.Auth);\n\n    // update localstorage\n    store.dispatch({type: SET_USER, user: user});\n\n    // getUser(user._id, false).then((res)=>{\n    //     store.dispatch({type: SET_USER, user: res})\n    // });\n}\n\n/*============================================================*/\nReactDOM.render(\n\n  <Provider store={store}>\n    <ConnectedRouter history={history} >\n        <Switch>\n            <Route path=\"/\" component={App} />\n        </Switch>\n    </ConnectedRouter>\n\n  </Provider>\n\n  , document.getElementById('root')\n\n); //end ReactDOM.render\n\n\nregister();\n"],"sourceRoot":""}